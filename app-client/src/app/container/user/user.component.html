<div nz-row class="mgbt20">
  <div nz-col nzSpan="12">
    <h3>Nhân Viên</h3>
  </div>
  <div nz-col nzSpan="12">
    <div class="float-right">
      <button (click)="handleCorU()" nz-button nzType="primary" [nzSize]="Large"><i nz-icon nzType="plus"
          nzTheme="outline"></i>
        Tạo mới </button>
    </div>

  </div>
</div>
<div class="box box-success">
  <div class="box-body">

    <nz-table nzBordered #ajaxTable nzShowSizeChanger [nzFrontPagination]="false" [nzData]="listOfData"
      [nzLoading]="loading" [nzTotal]="total" [(nzPageIndex)]="pageIndex" [(nzPageSize)]="pageSize"
      (nzPageIndexChange)="searchData()" (nzPageSizeChange)="searchData(true)">
      <thead (nzSortChange)="sort($event)" nzSingleSort>
        <tr>
          <th nzCustomFilter nzShowSort nzSortKey="fullName" width="15%">
            Họ tên
            <nz-dropdown nzTrigger="click" nzPlacement="bottomRight" [nzClickHide]="false" nzTableFilter #dropdown>
              <i nz-icon nzType="search" class="ant-table-filter-icon"
                [class.ant-table-filter-open]="dropdown.nzVisible" nz-dropdown></i>
              <div class="search-box">
                <input type="text" nz-input placeholder="Tìm kiếm" [(ngModel)]="searchValue" />
                <button nz-button nzSize="small" nzType="primary" (click)="search({key:'name',value: searchValue})"
                  class="search-button">
                  Tìm kiếm
                </button>
                <button nz-button nzSize="small" (click)="reset()">Reset</button>
              </div>
            </nz-dropdown>
          </th>

          <th width="10%" class="text-center">
            Điện thoại
          </th>
          <th width="15%" class="text-center">
            Quyền
          </th>
          <th width="15%" class="text-center">
            Trạng thái
          </th>
          <th width="15%" class="text-center"><span>Action</span></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of ajaxTable.data">
          <td>{{ data.name }}</td>
          <td class="text-center">{{ data.phone }}</td>
          <td class="text-center">{{ data.type }}</td>
          <td class="text-center">
            <span *ngIf="data.active" class="badge badge-success">
              Kích hoạt
            </span>
            <span *ngIf="!data.active" class="badge badge-danger">
              Không kích hoạt
            </span>
          </td>
          <td class="cttd text-center">
            <div zn-row>
              <button nz-tooltip nzTitle="Sửa người dùng" (click)="handleCorU(data)" nz-button nzType="primary"
                style="margin-right: 10px">
                <i nz-icon nzType="edit" nzTheme="outline"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
      <div zn-row style="margin-top: 10px">
        <strong *ngIf="total!=0">Tổng số: {{total}}</strong>
      </div>
    </nz-table>

    <app-cou-user *ngIf="isVisible" [dataEdit]="dataEdit" [isVisible]="isVisible" (closeModal)="closeModal($event)">
    </app-cou-user>
  </div>
</div>